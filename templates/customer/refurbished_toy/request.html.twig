{% extends 'base.html.twig' %}
{% block body %}
    <br>
    <section>
        <div class="row m-auto text-center">

        {{ form_start(form, {attr: {novalidate: 'novalidate', id: 'requestRefurbishedToy'}}) }}
            {{ form_label(form.name, "Nom") }}
            {{ form_widget(form.name) }}
            <br>
            {{ form_label(form.toyCondition, "Ã‰tat") }}
            {{ form_widget(form.toyCondition) }}
            <br>
            {{ form_label(form.image, "Image de votre jouet") }}
            {{ form_widget(form.image) }}
            <br>
            <div>
                {{ form_row(form.agreeTerms) }}
            </div>
            <br>
            <button class="g-recaptcha btn btn-primary"
                    data-sitekey="{{ google_recaptcha_site_key }}"
                    data-callback='onSubmit'
                    data-action='submit'>
                Confirmer
            </button>

        {{ form_end(form) }}

        </div>
    </section>
{% endblock %}

{% block javascripts %}
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script>
        function onSubmit(token) {
            document.getElementById("requestRefurbishedToy").submit();
        }
    </script>
{% endblock %}